<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Summary Statistics - ONLYCODE</title>


<style type="text/css">
body {
  font-family: Helvetica, arial, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  padding-top: 10px;
  padding-bottom: 10px;
  background-color: white;
  padding: 30px; }

body > *:first-child {
  margin-top: 0 !important; }
body > *:last-child {
  margin-bottom: 0 !important; }

a {
  color: #4183C4; }
a.absent {
  color: #cc0000; }
a.anchor {
  display: block;
  padding-left: 30px;
  margin-left: -30px;
  cursor: pointer;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0; }

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
  cursor: text;
  position: relative; }

h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA09pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoMTMuMCAyMDEyMDMwNS5tLjQxNSAyMDEyLzAzLzA1OjIxOjAwOjAwKSAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUM2NjlDQjI4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUM2NjlDQjM4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QzY2OUNCMDg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QzY2OUNCMTg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsQhXeAAAABfSURBVHjaYvz//z8DJYCRUgMYQAbAMBQIAvEqkBQWXI6sHqwHiwG70TTBxGaiWwjCTGgOUgJiF1J8wMRAIUA34B4Q76HUBelAfJYSA0CuMIEaRP8wGIkGMA54bgQIMACAmkXJi0hKJQAAAABJRU5ErkJggg==) no-repeat 10px center;
  text-decoration: none; }

h1 tt, h1 code {
  font-size: inherit; }

h2 tt, h2 code {
  font-size: inherit; }

h3 tt, h3 code {
  font-size: inherit; }

h4 tt, h4 code {
  font-size: inherit; }

h5 tt, h5 code {
  font-size: inherit; }

h6 tt, h6 code {
  font-size: inherit; }

h1 {
  font-size: 28px;
  color: black; }

h2 {
  font-size: 24px;
  border-bottom: 1px solid #cccccc;
  color: black; }

h3 {
  font-size: 18px; }

h4 {
  font-size: 16px; }

h5 {
  font-size: 14px; }

h6 {
  color: #777777;
  font-size: 14px; }

p, blockquote, ul, ol, dl, li, table, pre {
  margin: 15px 0; }

hr {
  background: transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0;
  border: 0 none;
  color: #cccccc;
  height: 4px;
  padding: 0;
}

body > h2:first-child {
  margin-top: 0;
  padding-top: 0; }
body > h1:first-child {
  margin-top: 0;
  padding-top: 0; }
  body > h1:first-child + h2 {
    margin-top: 0;
    padding-top: 0; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child {
  margin-top: 0;
  padding-top: 0; }

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0; }

h1 p, h2 p, h3 p, h4 p, h5 p, h6 p {
  margin-top: 0; }

li p.first {
  display: inline-block; }
li {
  margin: 0; }
ul, ol {
  padding-left: 30px; }

ul :first-child, ol :first-child {
  margin-top: 0; }

dl {
  padding: 0; }
  dl dt {
    font-size: 14px;
    font-weight: bold;
    font-style: italic;
    padding: 0;
    margin: 15px 0 5px; }
    dl dt:first-child {
      padding: 0; }
    dl dt > :first-child {
      margin-top: 0; }
    dl dt > :last-child {
      margin-bottom: 0; }
  dl dd {
    margin: 0 0 15px;
    padding: 0 15px; }
    dl dd > :first-child {
      margin-top: 0; }
    dl dd > :last-child {
      margin-bottom: 0; }

blockquote {
  border-left: 4px solid #dddddd;
  padding: 0 15px;
  color: #777777; }
  blockquote > :first-child {
    margin-top: 0; }
  blockquote > :last-child {
    margin-bottom: 0; }

table {
  padding: 0;border-collapse: collapse; }
  table tr {
    border-top: 1px solid #cccccc;
    background-color: white;
    margin: 0;
    padding: 0; }
    table tr:nth-child(2n) {
      background-color: #f8f8f8; }
    table tr th {
      font-weight: bold;
      border: 1px solid #cccccc;
      margin: 0;
      padding: 6px 13px; }
    table tr td {
      border: 1px solid #cccccc;
      margin: 0;
      padding: 6px 13px; }
    table tr th :first-child, table tr td :first-child {
      margin-top: 0; }
    table tr th :last-child, table tr td :last-child {
      margin-bottom: 0; }

img {
  max-width: 100%; }

span.frame {
  display: block;
  overflow: hidden; }
  span.frame > span {
    border: 1px solid #dddddd;
    display: block;
    float: left;
    overflow: hidden;
    margin: 13px 0 0;
    padding: 7px;
    width: auto; }
  span.frame span img {
    display: block;
    float: left; }
  span.frame span span {
    clear: both;
    color: #333333;
    display: block;
    padding: 5px 0 0; }
span.align-center {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-center > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: center; }
  span.align-center span img {
    margin: 0 auto;
    text-align: center; }
span.align-right {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-right > span {
    display: block;
    overflow: hidden;
    margin: 13px 0 0;
    text-align: right; }
  span.align-right span img {
    margin: 0;
    text-align: right; }
span.float-left {
  display: block;
  margin-right: 13px;
  overflow: hidden;
  float: left; }
  span.float-left span {
    margin: 13px 0 0; }
span.float-right {
  display: block;
  margin-left: 13px;
  overflow: hidden;
  float: right; }
  span.float-right > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: right; }

code, tt {
  margin: 0 2px;
  padding: 0 5px;
  white-space: nowrap;
  border: 1px solid #eaeaea;
  background-color: #f8f8f8;
  border-radius: 3px; }

pre code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent; }

.highlight pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }

pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }
  pre code, pre tt {
    background-color: transparent;
    border: none; }

sup {
    font-size: 0.83em;
    vertical-align: super;
    line-height: 0;
}

kbd {
  display: inline-block;
  padding: 3px 5px;
  font-size: 11px;
  line-height: 10px;
  color: #555;
  vertical-align: middle;
  background-color: #fcfcfc;
  border: solid 1px #ccc;
  border-bottom-color: #bbb;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #bbb
}

* {
	-webkit-print-color-adjust: exact;
}
@media screen and (min-width: 914px) {
    body {
        width: 854px;
        margin:0 auto;
    }
}
@media print {
	table, pre {
		page-break-inside: avoid;
	}
	pre {
		word-wrap: break-word;
	}
  body {
    padding: 2cm; 
  }
}
</style>

<style type="text/css">
/**
 * prism.js default theme for JavaScript, CSS and HTML
 * Based on dabblet (http://dabblet.com)
 * @author Lea Verou
 */

code[class*="language-"],
pre[class*="language-"] {
	color: black;
	background: none;
	text-shadow: 0 1px white;
	font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	word-wrap: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {
	text-shadow: none;
	background: #b3d4fc;
}

pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
code[class*="language-"]::selection, code[class*="language-"] ::selection {
	text-shadow: none;
	background: #b3d4fc;
}

@media print {
	code[class*="language-"],
	pre[class*="language-"] {
		text-shadow: none;
	}
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #f5f2f0;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
	white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: slategray;
}

.token.punctuation {
	color: #999;
}

.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
	color: #905;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #690;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
	color: #a67f59;
	background: hsla(0, 0%, 100%, .5);
}

.token.atrule,
.token.attr-value,
.token.keyword {
	color: #07a;
}

.token.function {
	color: #DD4A68;
}

.token.regex,
.token.important,
.token.variable {
	color: #e90;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}
</style>


</head>

<body>

<h1 id="toc_0">Applied statistics - R Code</h1>

<p><br><br>
<br><br>
<br>
<br></p>

<p align="center">
  <img width="500" height="350" src="https://miro.medium.com/max/3840/1*UAGU532MbhR5cm3symwWqg.png">
</p>  

<p><br><br>
<br><br>
<p align="left"> <img width="200" height="80" src="BSM_logo.png">
<br>
<em>Prepared for exam and review by Dani√´lle Kotter</em></p>

<div style="page-break-after: always;"></div>

<h1 id="toc_1">Table of content</h1>

<ul class="toc">
<li>
<a href="#toc_0">Applied statistics - R Code</a>
</li>
<li>
<a href="#toc_1">Table of content</a>
<ul>
<li>
<ul>
<li>
<a href="#toc_2">Basic commands:</a>
</li>
<li>
<a href="#toc_3">Charts templates</a>
</li>
</ul>
</li>
<li>
<a href="#toc_4">Topic 1 - Probability &amp; Statistical inference</a>
<ul>
<li>
<a href="#toc_5">Bayes Theorem</a>
</li>
</ul>
</li>
<li>
<a href="#toc_6">Topic 2 - Discrete probability</a>
<ul>
<li>
<a href="#toc_7">Uniform discrete probability distribution</a>
</li>
<li>
<a href="#toc_8">Binomial distribution</a>
</li>
<li>
<a href="#toc_9">Poisson distribution</a>
</li>
</ul>
</li>
<li>
<a href="#toc_10">Topic 3 - The normal distribution</a>
<ul>
<li>
<a href="#toc_11">Plotting the normal distribution</a>
</li>
<li>
<a href="#toc_12">Binomial</a>
</li>
</ul>
</li>
<li>
<a href="#toc_13">Topic 4 - Samples, estimation &amp; confidence intervals</a>
</li>
<li>
<a href="#toc_14">Topic 5 - Significance testing</a>
<ul>
<li>
<a href="#toc_15">Critical values</a>
</li>
<li>
<a href="#toc_16">Test of equality - two samples</a>
</li>
</ul>
</li>
<li>
<a href="#toc_17">Topic 5 - Non-Parametric testing</a>
<ul>
<li>
<a href="#toc_18">Contengency table / frequencies</a>
</li>
<li>
<a href="#toc_19">Chi-square</a>
</li>
<li>
<a href="#toc_20">Goodness of fit</a>
</li>
<li>
<a href="#toc_21">Mann-whitney test</a>
</li>
<li>
<a href="#toc_22">Wilcoxon test</a>
</li>
<li>
<a href="#toc_23">Run test</a>
</li>
<li>
<a href="#toc_24">P-value</a>
</li>
</ul>
</li>
<li>
<a href="#toc_25">Topic 6 - Regressions, correlation and dummy&#39;s</a>
<ul>
<li>
<a href="#toc_26">R-Squared</a>
</li>
<li>
<a href="#toc_27">Regressions</a>
</li>
<li>
<a href="#toc_28">Dummy variables, diff in means</a>
</li>
<li>
<a href="#toc_29">Regression + dummy</a>
</li>
</ul>
</li>
<li>
<a href="#toc_30">Topic 7: Prediction</a>
<ul>
<li>
<a href="#toc_31">Confidence and prediction plotting</a>
</li>
<li>
<a href="#toc_32">Prediction with dummy variables</a>
</li>
<li>
<a href="#toc_33">Prediction intervals examples</a>
</li>
</ul>
</li>
<li>
<a href="#toc_34">Topic 8 - Data problems</a>
<ul>
<li>
<a href="#toc_35">Multicollinearity</a>
</li>
<li>
<a href="#toc_36">ANOVA</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>


<div style="page-break-after: always;"></div>

<hr>

<h3 id="toc_2">Basic commands:</h3>

<p><strong>Basic packages:</strong></p>

<div><pre><code class="language-none">  &quot;prob&quot;,
  &quot;data.table&quot;,
  &quot;distrEx&quot;,
  &quot;LaplacesDemon&quot;,
  &quot;formattable&quot;,
  &quot;kableExtra&quot;,
  &quot;knitr&quot;,
  &quot;TeachingDemos&quot;,
  &quot;dplyr&quot;,
  &quot;dbplyr&quot;,
  &quot;tidyverse&quot;,
  &quot;Hmisc&quot;,
  &quot;psych&quot;,
  &quot;samplingbook&quot;,
  &quot;swirl&quot;,
  &quot;ggplot2&quot;,
  &quot;swirl&quot;,
  &quot;snpar&quot;,
  &quot;BSDA&quot;,
  &quot;actuar&quot;,
  &quot;readxl&quot;,
  &quot;stargazer&quot;  </code></pre></div>

<p><strong>Sample mean, standard deviation</strong></p>

<div><pre><code class="language-none">mean(variable)
sd(variable)</code></pre></div>

<p>Removes values NA in a data set:</p>

<div><pre><code class="language-none">mean(variable, na.rm = TRUE)
sd(variable, na.rm = TRUE)</code></pre></div>

<p><strong>Weighted mean &amp; standard deviation</strong></p>

<p>Package: &quot;HMISC&quot;.</p>

<div><pre><code class="language-none">weightedmean &lt;- Xbar = wtd.mean(x,y)
weightedsd &lt;- SQRT(Wtd.var(X,Y))/sqrt(n)</code></pre></div>

<p><strong>Variance</strong></p>

<div><pre><code class="language-none">var(x)</code></pre></div>

<p><strong>Tables frames &amp; Matrixes</strong></p>

<div><pre><code class="language-none">matrix(c(1,2,3,4,5,6,7,8), nrow = 4, byrow = TRUE) &lt;- organized by row
matrix(c(1,2,3,4,5,6,7,8), ncol = 4, byrow = FALSE) &lt;- organized by col
data.frame(Column1 = c(1,2,3,4,5), Column2 = c(1,2,3,4,5))
data.table(Column1 = c(1,2,3,4,5), Column2 = c(1,2,3,4,5))

as.table(matrix(c(1,2,3,4,5,6,7,8), nrow = 4))</code></pre></div>

<div><pre><code class="language-none">rbind(data, newvariable)
cbind(data, newvariable)

rownames(datatable) &lt;- c()
colnames(datatable) &lt;- c()</code></pre></div>

<p><strong>Other:</strong></p>

<div><pre><code class="language-none">round(value, 2) &lt;- two decimals
as.numeric(value)
rep(5,5) &lt;- repeats 5, 5 times
percent(value) &lt;- presents 0.25 as -&gt; 25.00%
describe(variable)
fivenum(variable)
summary(variable)
str(variable) &lt;- explains the variable</code></pre></div>

<p><strong>Read excel</strong></p>

<div><pre><code class="language-none">library(readxl)
data &lt;- read.xls(&quot;data.xlsx&quot;, stringsAsFactors = TRUE)</code></pre></div>

<p><strong>Mathmatical values</strong></p>

<div><pre><code class="language-none">$\mu$ &lt;- Population mean   
$\sigma$ &lt;- Population sd   
$\bar{x}$ &lt;- Sample mean   
${e}$ &lt;- Standard error 
$\pi$ &lt;- pie 
$\ge$ &lt;- Bigger than     
$\le$ &lt;- Smaller than  </code></pre></div>

<h3 id="toc_3">Charts templates</h3>

<p><strong>Pie chart</strong></p>

<div><pre><code class="language-none">data &lt;- data.frame(
  group = Absolute
  value = Relative
)

blank_theme &lt;- theme_minimal()+
    theme(
        axis.title.x = element_blank(),
        axis.title.y = element_blank(),
        panel.border = element_blank(),
        panel.grid = element_blank(),
        axis.ticks = element_blank(),
        plot.title = element_text(size = 10, face = &quot;bold&quot;)
    )

ggplot(data, aes(x=&quot;&quot;,y = value, fill = group)) +
  geom_bar(width = 1, stat = &quot;identity&quot;) +
  coord_polar(&quot;y&quot;, start = 0) +
  scale_fill_manual(&quot;Legendname:&quot;,
                    values = paletteDani)+
    blank_theme  +
    theme(axis.text.x=element_blank())+
  labs(title = &quot;Title&quot;,
         x = &quot;variablX&quot;,
         y = &quot;variableY&quot;
         )</code></pre></div>

<p><strong>Bar chart</strong></p>

<div><pre><code class="language-none">data &lt;- data.frame(
  Factor = freqtable$Factor,
  Frequency = freqtable$Absolute
)

ggplot(data, aes(x = Frequency, y = LivingSituation)) + 
  geom_bar(stat = &quot;identity&quot;, fill=&quot;#69b3a2&quot;, color=&quot;#e9ecef&quot;) +
  theme(legend.position=&quot;none&quot;)</code></pre></div>

<p><strong>Histogram</strong></p>

<div><pre><code class="language-none">ggplot(data = data, aes(variable) ) + 
    geom_histogram(fill=&quot;#69b3a2&quot;, color=&quot;#e9ecef&quot;, alpha=0.9) +
    ggtitle(&quot;Title&quot;) +
      xlab(&quot;variablex&quot;) +
      ylab(&quot;variabley&quot;) +
    theme(plot.title = element_text(size = 11))</code></pre></div>

<p><strong>Boxplot</strong></p>

<div><pre><code class="language-none">ggplot(data=Data, aes(x=&quot;&quot;, y=Variable, fill=&quot;&quot;)) +
    geom_boxplot(fill=&quot;#69b3a2&quot;, outlier.colour=&quot;red&quot;, outlier.shape=8, outlier.size=4) +
    theme_ipsum() +
    theme(
      legend.position=&quot;none&quot;,
      plot.title = element_text(size=12)
      ) +
    ggtitle(&quot;Title&quot;) +
    theme(plot.title = element_text(hjust = 0.5)) +
        xlab(&quot;&quot;)+
        ylab(&quot;&quot;)</code></pre></div>

<p><strong>Scatter plot</strong></p>

<div><pre><code class="language-none"> ggplot(data, aes(y = variabley, x = variablex)) +
  geom_point(size=2) +
  geom_smooth(method=&quot;lm&quot;, fill = NA, color=&quot;#69b3a2&quot;, fullrange=TRUE, formula = y ~ x) +
   theme(plot.title = element_text(hjust = 0.5)) +
        labs(title = &quot;Title&quot;,
         y = &quot;yname&quot;,
         x = &quot;xname&quot;
         )</code></pre></div>

<p><strong>Scatter plot with dummies</strong></p>

<div><pre><code class="language-none">ggplot(data, aes(y = variableY, x = dummy, colour=factor(dummy))) + 
  geom_point(size=2) +
  geom_smooth(method=&quot;lm&quot;, fill = NA, fullrange=TRUE,  formula = y ~ x) +
    theme(plot.title = element_text(hjust = 0.5)) +
    scale_colour_manual(name=&quot;Legendtitle&quot;, 
        labels=c(&quot;value1&quot;, &quot;value2&quot;),values = c(&quot;#69b3a2&quot;, &quot;#F6726A&quot;))+
    labs(title = &quot;Title&quot;,
         y = &quot;Yname&quot;,
         x = &quot;Xname&quot;
         )</code></pre></div>

<p><strong>Scatter plot with two variable + dummy</strong></p>

<p>Only difference from above is the first sentence:</p>

<div><pre><code class="language-none">ggplot(data, aes(y = variableY, x = variableX, colour=factor(dummy))) + </code></pre></div>

<p><strong>Residual plot</strong></p>

<div><pre><code class="language-none">residual.plot(fitted(model),resid(model),sigma.hat(model), main=&quot;Residual Plot&quot;, col.pts = (&quot;#69b3a2&quot;))</code></pre></div>

<p><strong>Arrange charts next to eachother on a page</strong></p>

<div><pre><code class="language-none">grid.arrange(chart1, chart2, nrow=1, widths=c(0.9,1))</code></pre></div>

<div style="page-break-after: always;"></div>

<h2 id="toc_4">Topic 1 - Probability &amp; Statistical inference</h2>

<p>Package = &quot;prob&quot;.</p>

<div><pre><code class="language-none">out &lt;- c(‚ÄúRed‚Äù,‚ÄúWhite‚Äù,‚ÄúBlack‚Äù,‚ÄúBlue‚Äù,‚ÄúGreen‚Äù)
freq &lt;- c(1,2,3,4,5)
s &lt;- probspace(out,probs=freq)</code></pre></div>

<p>If you toss two fair coins, what is the probability of two heads?</p>

<div><pre><code class="language-none">space &lt;- tosscoin(2,makespace=TRUE)
p &lt;- Prob(space, toss1==&quot;H&quot; &amp; toss2==&quot;H&quot;)</code></pre></div>

<p>When two dice are thrown, what is the probability of a 3 followed by a 5?</p>

<div><pre><code class="language-none">space &lt;- rolldie(2, makespace = TRUE)
p &lt;- Prob(space, X1 == 3 &amp; (X2 == 5) )</code></pre></div>

<p>Sampling from an urn with or without replacement. 3 balls and sample size of 2:</p>

<div><pre><code class="language-none">urnsamples(1:3, size = 2, replace = TRUE, ordered = TRUE)
urnsamples(1:3, size = 2, replace = FALSE, ordered = TRUE)
urnsamples(1:3, size = 2, replace = FALSE, ordered = FALSE)
urnsamples(1:3, size = 2, replace = TRUE, ordered = FALSE)</code></pre></div>

<h3 id="toc_5">Bayes Theorem</h3>

<p><strong>Unconditional probability:</strong></p>

<p>P(S) and P(NS)
Success or no success</p>

<div><pre><code class="language-none">prS &lt;- c(0.4, 0.6)</code></pre></div>

<p><strong>Conditional probability:</strong></p>

<p>P(P | S ) and P( P | NS)
Predicted given it is successful<br>
Predicted given it is not successful</p>

<div><pre><code class="language-none">prNS &lt;- c(0.6, 0.2)</code></pre></div>

<p><strong>Bayes prob, posterior probabilities</strong><br>
P(S | P) &amp; P(NS | P)</p>

<div><pre><code class="language-none">BayesTheorem(prS, prNS)</code></pre></div>

<div style="page-break-after: always;"></div>

<h2 id="toc_6">Topic 2 - Discrete probability</h2>

<h3 id="toc_7">Uniform discrete probability distribution</h3>

<ol>
<li>Sample space with a set probability. Size = amount of tries</li>
<li>Density function: Individual probability. F.E. Getting a 4</li>
<li>Cumulatative density: Uniform for a certain value distribution. F.E. 4 or less. 4 or more? 1-punif 3</li>
<li>Inverse cumulative density: Uniform for a certain probability ( up until a certain value). F.E. up to 25% of the tries</li>
</ol>

<div><pre><code class="language-none">1. sample(p, size=n, replace=TRUE)
2. dunif(X, min = a, max = b)
3. punif(X, min=0, max=6)
4. qunif(X, min=0, max=6)</code></pre></div>

<p><strong><em>Default = # or less. For # or more do: 1-probability of # or less</em></strong> </p>

<h3 id="toc_8">Binomial distribution</h3>

<ol>
<li>Binomial for a specific value for a certain sample. F.E. 2 from the sample are successful.</li>
<li>Binomial for a certain distribution of the sample. F.E. At most 2 in the sample are successful. Or 5 or more. </li>
<li>Binomial for a certain percentage of the  sample. F.E. 25% of the sample has x value or less. </li>
<li>Difference between two binomial values. F.E. Prob there are between 4 and 5 of the trials successful.</li>
</ol>

<div><pre><code class="language-none">1. dbinom(x, size = n, prob = y)    
2. pbinom(x, size = n, prob =y) 
3. qbinom(p, size = n, prob =y) 
4. diff(pbinom(c(X,Y), size = n, prob =y)   </code></pre></div>

<p><strong><em>Default = # or less (left area of the distribution). For # or more do: 1-probability of # or less</em></strong> </p>

<h3 id="toc_9">Poisson distribution</h3>

<p><strong>Expected value =</strong> n * p = LAMDA</p>

<ol>
<li>Poisson for a certain value. Lambda = n*p. F.E. Prob of having a 5</li>
<li>Poisson for a certain value distribution. F.E. Prob of having less than 5. More than 5? = 1- Ppois(4, lambda)</li>
<li>Poisson for a certain probability to capture a certain value. F.E. Poisson value for 25%.</li>
</ol>

<div><pre><code class="language-none">1. dpois(x,lambda)  
2. ppois(x, lambda) 
3. qpois(x,lambda)</code></pre></div>

<p><strong><em>Default = # or less (left area of the distribution). For # or more do: 1-probability of # or less</em></strong> </p>

<div style="page-break-after: always;"></div>

<h2 id="toc_10">Topic 3 - The normal distribution</h2>

<p><strong>Empirical rule</strong></p>

<p>For all normal distributions: 68-95-99.7 rule</p>

<p>99.7% of observations are located between: -3 mu and 3<br>
95% of observations are located between: -2 mu 2<br>
68% of observations are located between: -1 mu 1</p>

<p><strong>Normal distribution</strong></p>

<p><strong>Z-value</strong></p>

<div><pre><code class="language-none">z &lt;- (x-mean)/sd</code></pre></div>

<ol>
<li>Normal distribution for a certain proportion. Pi = population proportion mean%.</li>
<li>Normal distribution for a certain value distribution. F.E. Prob of value above 5. FALSE
Prob less than 9. TRUE</li>
<li>Normal distribution for a certain probability to capture a certain value. F.E. Value that is given at 25% point. </li>
<li>Difference between two values on the normal distribution. F.E. between 5 and 10. </li>
</ol>

<div><pre><code class="language-none">1. pnorm(X, pi, sd, lower.tail = FALSE)
2. pnorm(X, mean = mean, sd = sd, lower.tail = FALSE)
3. qnorm(p, mean = mean, sd = sd, lower.tail = FALSE) 
4. diff(pnorm(c(X,Y), mean = mean, sd = sd, lower.tail = FALSE)</code></pre></div>

<p>lower.tail = TRUE: The area of the left side of the slope<br>
lower.tail = FALSE: The area of the right side of the slope
<strong>Confidence interval for normal distribution</strong></p>

<div><pre><code class="language-none">z.test(x, sd=sigma)
binconf(x = x, n = n) &lt;- proportions
t.test(variable) &lt;- t-distribution for conf.inv</code></pre></div>

<h3 id="toc_11">Plotting the normal distribution</h3>

<p>&quot;With mean = 3 and standard deviation = 7<br>
Limits: mean +/- 3 * standard deviation  = 3*7 = 21 
Lower limit = 3 ‚Äì 21 = -18<br>
Upper limit = 3 + 21 = 24&quot;  </p>

<p>Example:</p>

<div><pre><code class="language-none">x &lt;- seq(15, 45, length=50)
y &lt;- dnorm(x, 30, 5)
plot(x,y,type=&quot;l&quot;,lwd=2,col=&quot;black&quot;)

x &lt;- seq(15,35,length=100)
y &lt;- dnorm(x, 30,5 )
polygon(c(15,x,35),c(0,y,0), density = c(15, 35), col = &quot;black&quot;)

p &lt;- pnorm(35, mean = 30, sd = 5,lower.tail = TRUE)
text(0,0.15,&quot;68%&quot;)</code></pre></div>

<h3 id="toc_12">Binomial</h3>

<p>It will be possible to use the Normal distribution as an approximation to the Binomial if: n is large and p &gt; 0.1 </p>

<ol>
<li>Density function (individual probability). </li>
<li>Cumulative density (between certain values). </li>
<li>Difference between two binomial values</li>
<li>Inverse cumulative density. For a certain prob. </li>
</ol>

<div><pre><code class="language-none">1. dbinom(x, mean, sd, lower.tail = FALSE)
2. pbinom(x, mean, sd, lower.tail = FALSE)
3. diff(pbinom(c(X,Y), mean = mean, sd = sd, lower.tail = FALSE)
4. qbinom(p, mean, sd, lower.tail = FALSE)</code></pre></div>

<div style="page-break-after: always;"></div>

<h2 id="toc_13">Topic 4 - Samples, estimation &amp; confidence intervals</h2>

<p><strong>The standard error of the sampling distribution of the mean</strong></p>

<div><pre><code class="language-none">se &lt;- sigma / sqrt(n)</code></pre></div>

<p><strong>Probability sample</strong></p>

<ol>
<li>To find the probability that X is larger than mu</li>
<li>To find the probability that X is smaller than mu</li>
</ol>

<div><pre><code class="language-none">p &lt;- pnorm(X, mu, se, lower.tail = TRUE) 
p &lt;- pnorm(X, mu, se, lower.tail = FALSE)</code></pre></div>

<p><strong>Probability proportions sample</strong></p>

<div><pre><code class="language-none">sd &lt;- sqrt((pi*(n-pi))/n)
z &lt;- (p - pi)/sd

pnorm(X, pi, se, lower.tail =FALSE)</code></pre></div>

<p><strong>Sample size</strong></p>

<p>Package = &quot;samplingbook&quot;.</p>

<p>Provides the sample size needed to have a 95% confidence to estimate the population mean. 
Level = confidence level. Se is required standard error. </p>

<div><pre><code class="language-none">sample.size.mean(se, sigma, level=0.95)</code></pre></div>

<div style="page-break-after: always;"></div>

<h2 id="toc_14">Topic 5 - Significance testing</h2>

<h3 id="toc_15">Critical values</h3>

<p><strong>Critical value for normal distribution, sample &gt; 30</strong>  </p>

<ol>
<li>Two-sided: Critical value, 5% significance level = 1.96</li>
<li>Two-sided: Critical value, 1% significance level = 2.58</li>
<li>Two-sided: Critical value, 10% significance level = 1.96</li>
<li>One-sided: Critical value, 5% significance level = 1.64</li>
<li>One-sided: Critical value, 1% significance level = 2.33</li>
<li>One-sided: Critical value, 10% significance level = 1.28</li>
</ol>

<div><pre><code class="language-none">cv &lt;- qnorm(0.975)
cv &lt;- qnorm(0.995)
cv &lt;- qnorm(0.95)

cv &lt;- qnorm(0.95)
cv &lt;- qnorm(0.99)
cv &lt;- qnorm(0.90)</code></pre></div>

<p><strong>Critical values t-distribution</strong></p>

<ol>
<li>One-sided: critical value at a 5% significance level</li>
<li>One-sided: critical value at a 10% significance level</li>
<li>One-sided: critical value at a 1% significance level</li>
<li>Two-sided: critical value at a 5% significance level</li>
<li>Two-sided: critical value at a 10% significance level</li>
<li>Two-sided: critical value at a 1% significance level</li>
</ol>

<div><pre><code class="language-none">cv &lt;- qt(0.95, df) 
cv &lt;- qt(0.90, df) 
cv &lt;- qt(0.99, df)

cv &lt;- qt(0.975, df)
cv &lt;- qt(0.95, df) 
cv &lt;- qt(0.995, df)</code></pre></div>

<p><strong>Confidence interval</strong></p>

<div><pre><code class="language-none">cv &lt;- cv
mu &lt;- mu
sd &lt;- sd
se &lt;- sd / (sqrt(n))
n &lt;- n

conf_int95 &lt;- cv * sd / (sqrt(n))
mu_plus &lt;- mu + conf_int95
mu_min &lt;- mu - conf_int95</code></pre></div>

<p><p align="left"> <img width="500" height="350" src="hypothesis.png"></p>

<p><strong>Large sample significance testing</strong></p>

<p>Package: &quot;BSDA&quot;.</p>

<ol>
<li>Two-sided</li>
<li>One-sided: X is greater than the population mean</li>
<li>One-sided: X is less than the population mean</li>
</ol>

<div><pre><code class="language-none">1. tsum.test(mean.x = X, s.x = sd, n.x = n, mu = mu, alternative = &quot;two.sided&quot;, var.equal = TRUE) 

2. tsum.test(mean.x = X, s.x = sd, n.x = n, mu = mu, alternative = &quot;greater&quot;, var.equal = TRUE) 

3. tsum.test(mean.x = X, s.x = sd, n.x = n, mu = mu, alternative = &quot;less&quot;, var.equal = TRUE) </code></pre></div>

<p><strong>For proportions:</strong></p>

<div><pre><code class="language-none">prop.test(x= x,n = n,p = p,correct=TRUE,alternative=&quot;two.sided&quot;)</code></pre></div>

<p>Same goes for above: two.sided, greater, less</p>

<h3 id="toc_16">Test of equality - two samples</h3>

<p>H<em>0 &lt;- \(\mu1 = \mu2\) or \((\mu1 - \mu2) = 0\)<br>
H</em>a &lt;- \(\mu1 \neq \mu2\) or \(\mu1 - \mu2 \neq 0\)</p>

<p>Difference in two means with a certain confidence level confidence interval. Default = 95%</p>

<div><pre><code class="language-none">tsum.test(mean.x = X, s.x = sd, n.x = n, mean.y = X, s.y = sd, n.y = n, var.equal=FALSE)</code></pre></div>

<p>2-sample test for equality of proportions without continuity correction.</p>

<div><pre><code class="language-none">data &lt;- matrix(c(values), byrow=TRUE, nrow=2)  
prop.test(data, correct=FALSE, alternative=&quot;greater&quot;)</code></pre></div>

<h2 id="toc_17">Topic 5 - Non-Parametric testing</h2>

<h3 id="toc_18">Contengency table / frequencies</h3>

<p>Obtain contingency table</p>

<div><pre><code class="language-none">dist &lt;- table(variable)</code></pre></div>

<h3 id="toc_19">Chi-square</h3>

<ol>
<li>Chi-square test</li>
<li>Get the expected value</li>
<li>Probability for chi-square </li>
</ol>

<div><pre><code class="language-none">data &lt;- matrix(c(27,373,33,567),byrow=TRUE,nrow=2)
chisq.test(data,correct=FALSE)

chisq.test(data,correct=FALSE)$expected

prop.table(chisq.test(data,correct=FALSE)$expected,1)
prop.table(chisq.test(data,correct=FALSE)$expected,2)</code></pre></div>

<p>Degree of freedom = # of row - 1 * # of columns = fixed </p>

<p><strong><em>All expected frequencies must be above five! If not, categories must be combined!</em></strong></p>

<h3 id="toc_20">Goodness of fit</h3>

<p><strong>Uniform:</strong></p>

<p>Degree of freedom =  number of categories - number of parameters - 1.</p>

<div><pre><code class="language-none">x &lt;- c(frquencies)
p &lt;- c(rep(1/5,n))
chisq.test(x,p=p)</code></pre></div>

<p><strong><em>All expected frequencies must be above five! If not, categories must be combined!</em></strong></p>

<p><strong>Binomial:</strong></p>

<p>Package &quot;actuar&quot;.</p>

<p>dbinom(x, size = n, prob = y)   </p>

<p>For example:</p>

<div><pre><code class="language-none">cj &lt;- c(-0.5, 0.5, 1.5, 2.5, 3.5, 4.5, 5.5)

#or

cj &lt;- seq(from = -0.5, to=5, by=1)

nj &lt;- c(15,20,20,18,13,10)
data &lt;- grouped.data(Group = cj, Frequency = nj)
p &lt;- mean(data)/5
pr &lt;-c(dbinom(0,5,p),dbinom(1,5,p),dbinom(2,5,p),dbinom(3,5,p),dbinom(4,5,p),dbinom(5,5,p))

nj2 &lt;- c(35,20,18,23)
pr2 &lt;- c(dbinom(0,5,p)+dbinom(1,5,p),dbinom(2,5,p),dbinom(3,5,p),dbinom(4,5,p)+dbinom(5,5,p))

chisq.test(nj2,p=pr2)</code></pre></div>

<p><strong><em>All expected frequencies must be above five! If not, categories must be combined!</em></strong></p>

<p><strong>Poisson</strong></p>

<p>Degree of freedom = number of categories - number of parameters - 1.</p>

<p>NOTE! Distribution goes to infinity. Counter for one value that is X or more. 1 - until X. </p>

<p>Example:</p>

<div><pre><code class="language-none">cj &lt;- c(-0.5, 0.5, 1.5, 2.5, 3.5, 4.5, 5.5)

or

cj &lt;- seq(from = -0.5, to=6, by=1)
nj &lt;- c(16, 30, 37, 7, 10)
grouped.data(Group = cj, Frequency = nj)
m &lt;- mean(data)

pr &lt;- c(dpois(0, m),dpois(1,m),dpois(2, m), dpois(3, m), dpois(4, m), + (1-ppois(4,m)) )

chisq.test(nj, p = pr)</code></pre></div>

<p><strong>Normal distribution</strong></p>

<p>Example:</p>

<div><pre><code class="language-none">cv &lt;- qchisq(0.90, 2)

cj &lt;- c(0, 1, 3, 10, 15, 30)
nj &lt;- c(16, 30, 37, 7, 10)
data &lt;- grouped.data(Group = cj, Frequency = nj) 
m &lt;- 6.2
s &lt;- 6.4

pr &lt;- c(pnorm(1,m,s), diff(pnorm(c(1,3),m,s)), diff(pnorm(c(3,10),m,s)), diff(pnorm(c(10,15),m,s)), 1 - pnorm(c(15),m,s) )
         
chisq.test(nj,p=pr)</code></pre></div>

<h3 id="toc_21">Mann-whitney test</h3>

<p>N = Number of pairs - number of draws</p>

<p><strong>For small tests</strong></p>

<p>c1 values sample 1<br>
c2 values sample 2  </p>

<div><pre><code class="language-none">wilcox.text(c1,c2)</code></pre></div>

<p><strong>Larger sample test &gt; 10</strong></p>

<p>You can use a approximation based on the normal distribution. Therefore critical values will be 1.96 for this two sided test.</p>

<h3 id="toc_22">Wilcoxon test</h3>

<p>Two options<br>
    - Do not predict direction --&gt; two sided<br>
    - Predict direction --&gt; one sided  </p>

<div><pre><code class="language-none">wilcox.test(w1,w2,paired=TRUE,correct=FALSE)</code></pre></div>

<h3 id="toc_23">Run test</h3>

<p>Package &quot;randtests&quot;.</p>

<div><pre><code class="language-none">pers &lt;- c(0,1,1,0,0,0,0,1,1,0,1)
pers.f &lt;- factor(pers,labels=c(&quot;Male&quot;,&quot;Female&quot;))
runs.test(pers)</code></pre></div>

<h3 id="toc_24">P-value</h3>

<p>Find p value: Probability of getting this test statistic or more:</p>

<div><pre><code class="language-none">pchisq(ts,df,lower.tail=FALSE)</code></pre></div>

<div style="page-break-after: always;"></div>

<h2 id="toc_25">Topic 6 - Regressions, correlation and dummy&#39;s</h2>

<p>Y = Dependent<br>
X = Explanatory</p>

<p><strong>Correlation</strong></p>

<div><pre><code class="language-{r">cor(data$X, data$Y)</code></pre></div>

<h3 id="toc_26">R-Squared</h3>

<p>Package: &quot;stargazer&quot;.</p>

<div><pre><code class="language-{r">Stargazer package =
stargazer(lm(Y~X, data=data), type=&quot;text&quot;)</code></pre></div>

<h3 id="toc_27">Regressions</h3>

<p><strong>Plotting regression</strong></p>

<div><pre><code class="language-{r">plot(y~x,data=data, main=&quot;Title&quot;,ylab=&quot;Selling price&quot;,xlab=&quot;Size&quot;)</code></pre></div>

<p><strong>Regression line:</strong></p>

<div><pre><code class="language-{r">abline(lm(y~x,data=data),col=&quot;blue&quot;)</code></pre></div>

<p><strong>Creating the regression:</strong></p>

<ol>
<li>To plot the regression model</li>
<li>Evaluates the coefficient of the model</li>
<li>Only the first colum estimattion </li>
</ol>

<div><pre><code class="language-{r">model &lt;- lm(y~x, data = data)
summary(model)$coef
est &lt;- summary(model)$coef[,1]</code></pre></div>

<p><strong>Confidence interval around slope</strong></p>

<div><pre><code class="language-none">confint(lm(variableY~variableX), level=0.95)</code></pre></div>

<p><strong>Subsampling regression</strong></p>

<p>Specify dimentions [,]. First is row. Column, second. </p>

<ol>
<li>Selects the rows where age is larger than 45.</li>
<li>Lower than 45.</li>
</ol>

<div><pre><code class="language-{r">summary(lm(y-x, data=data[age&gt;=45,]))
summary(lm(y-x, data=data[age&lt;=45,]))</code></pre></div>

<h3 id="toc_28">Dummy variables, diff in means</h3>

<p>Example:</p>

<div><pre><code class="language-{r">Allpack &lt;- c(Package$Pack1,Package$Pack2)
Package$dummy1 &lt;- 0
Package$dummy2 &lt;- 1
dummy &lt;- c(Package$dummy1,Package$dummy2)
newdat &lt;- data.frame(Allpack,dummy)

summary(lm(Allpack~dummy,data=newdat))</code></pre></div>

<h3 id="toc_29">Regression + dummy</h3>

<p>Y = Constant0 + B0 * X - Diffinmeans + B1 * variable1*2</p>

<p>Example: </p>

<div><pre><code class="language-{r">Time &lt;- c(Monterey$Time,Bakersfield$Time)
Boxes &lt;- c(Monterey$Boxes,Bakersfield$Boxes)
Monterey$dummy &lt;- 0
Bakersfield$dummy &lt;- 1
dummy &lt;- c(Monterey$dummy, Bakersfield$dummy)
Monterey$slopedummy &lt;- 0
Bakersfield$slopedummy &lt;- Bakersfield$Boxes
slopedummy &lt;- c(Monterey$slopedummy, Bakersfield$slopedummy)

newdat &lt;- data.frame(Time, Boxes, dummy, slopedummy)</code></pre></div>

<p><strong>Ommiting the intercept:</strong></p>

<div><pre><code class="language-none">nfit &lt;- lm(var1 ~ var2 - 1, data)
Shows the means seperately and not the difference between means. Tests whether the expected counts are different from zero. </code></pre></div>

<p>Reorders group, to specific value to be first.</p>

<div><pre><code class="language-none">variable2 &lt;- relevel(variable, &quot;C&quot;)</code></pre></div>

<p><strong>Excluding the constant:</strong></p>

<p>-1 excludes the constant. Now we get the means of each variable seperatly. Not the difference in means. </p>

<div><pre><code class="language-none">summary(lm(Y~dummy1 + dummy2 - 1, data=newdata))</code></pre></div>

<h2 id="toc_30">Topic 7: Prediction</h2>

<p><strong>Prediction</strong></p>

<div><pre><code class="language-{r">xvalues &lt;- data.frame(variablename = c(1,2,3,4,5))
predict(model, newdata = xvalues)</code></pre></div>

<p><strong>Prediction confidence interval:</strong></p>

<ol>
<li>One value</li>
<li>Multiple values from a existing data frame</li>
</ol>

<div><pre><code class="language-{confidence">predict(model, data.frame(valuename = value), interval = &quot;confidence&quot;, level=0.95)
predict(model, newdata = xvalues, interval = &quot;confidence&quot;, level=0.95)</code></pre></div>

<p><strong>Prediction interval</strong></p>

<ol>
<li>One value</li>
<li>Multiple values from a existing data frame</li>
</ol>

<div><pre><code class="language-none">predict(model,data.frame(valuename = value), interval=&quot;predict&quot;,level=0.95)
predict(model, data.frame, interval=&quot;predict&quot;,level=0.95)</code></pre></div>

<h3 id="toc_31">Confidence and prediction plotting</h3>

<p>Package: &quot;HH&quot;.<br>
Adds: observed values, fitted line, conf interval, predicted interval</p>

<div><pre><code class="language-none">fit &lt;- lm(variable1~variable2, data=data)
ci.plot(fit)</code></pre></div>

<h3 id="toc_32">Prediction with dummy variables</h3>

<p>Prediction = ùõº1+ùõº2Constant Dummy+ùõΩ1ùëÜùëñùëßùëí+ùõΩ2Slope Dummy</p>

<h3 id="toc_33">Prediction intervals examples</h3>

<p><strong>Prediction</strong></p>

<div><pre><code class="language-none">fit &lt;- lm(Y ~ X + dummy + dummyslope, data=data)

predict(fit, data.frame(VariableX = c(10), Dummy = c(1),
Slopedummy = c(10)) )</code></pre></div>

<p><strong>Confidence interval prediction</strong>  </p>

<div><pre><code class="language-none">fit &lt;- lm(Y ~ X + dummy + dummyslope, data=data)

predict(fit, data.frame(VariableX = c(10), Dummy = c(1),
Slopedummy = c(10), interval=&quot;confidence&quot;)</code></pre></div>

<p><strong>Prediction interval</strong></p>

<div><pre><code class="language-none">fit &lt;- lm(Y ~ X + dummy + dummyslope, data=data)

predict(fit, data.frame(VariableX = c(10), Dummy = c(1),
Slopedummy = c(10), interval=&quot;predict&quot;)</code></pre></div>

<div style="page-break-after: always;"></div>

<h2 id="toc_34">Topic 8 - Data problems</h2>

<p><strong>Residual plot</strong></p>

<div><pre><code class="language-none">m1 &lt;- lm(Y~X, data=data)
residual.plot(fitted(m1),resid(m1),sigma.hat(m1), main=&quot;Title&quot;)</code></pre></div>

<p><strong>Influential measure test</strong></p>

<div><pre><code class="language-none">influence.measures(m1)</code></pre></div>

<h3 id="toc_35">Multicollinearity</h3>

<ol>
<li>F-test</li>
<li>Variance inflation factors greater than 10</li>
</ol>

<div><pre><code class="language-none">anova(fit, fitres)
vif(fit)</code></pre></div>

<h3 id="toc_36">ANOVA</h3>

<p><strong>One-way:</strong> one value</p>

<div><pre><code class="language-none">res.aov &lt;- aov(Y ~ X, data = data)
summary(res.aov)</code></pre></div>

<p><strong>Two-way:</strong> more than two factors </p>

<div><pre><code class="language-none">res.aov &lt;- aov(Y ~ X + X2, data = data)
summary(res.aov)</code></pre></div>

<p>With interaction</p>

<div><pre><code class="language-none">res.aov &lt;- aov(Y ~ X * X2, data = data)
summary(res.aov)</code></pre></div>

<p><strong>MANOVA</strong>: Multiple vactors</p>

<ol>
<li>Test in difference</li>
<li>Test seperately</li>
</ol>

<div><pre><code class="language-none">test_manova &lt;- manova(cbind(Y, Y2) ~ X, data = data)
summary(test_manova)
summary.aov(test_manova)</code></pre></div>

<p><strong>Linear hypothesis test</strong></p>

<p>Example:</p>

<div><pre><code class="language-none">fit &lt;- lm(MKTDUB~pdub + poscar + pbpreg + pbpbeef,data=Hotdog)
linearHypothesis(fit,c(&quot;pbpreg + pbpbeef=0.0005&quot;), test=&quot;F&quot;)</code></pre></div>



<script type="text/javascript">
var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(){var e=/\blang(?:uage)?-(\w+)\b/i,t=0,n=_self.Prism={util:{encode:function(e){return e instanceof a?new a(e.type,n.util.encode(e.content),e.alias):"Array"===n.util.type(e)?e.map(n.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function(e){var t=n.util.type(e);switch(t){case"Object":var a={};for(var r in e)e.hasOwnProperty(r)&&(a[r]=n.util.clone(e[r]));return a;case"Array":return e.map&&e.map(function(e){return n.util.clone(e)})}return e}},languages:{extend:function(e,t){var a=n.util.clone(n.languages[e]);for(var r in t)a[r]=t[r];return a},insertBefore:function(e,t,a,r){r=r||n.languages;var l=r[e];if(2==arguments.length){a=arguments[1];for(var i in a)a.hasOwnProperty(i)&&(l[i]=a[i]);return l}var o={};for(var s in l)if(l.hasOwnProperty(s)){if(s==t)for(var i in a)a.hasOwnProperty(i)&&(o[i]=a[i]);o[s]=l[s]}return n.languages.DFS(n.languages,function(t,n){n===r[e]&&t!=e&&(this[t]=o)}),r[e]=o},DFS:function(e,t,a,r){r=r||{};for(var l in e)e.hasOwnProperty(l)&&(t.call(e,l,e[l],a||l),"Object"!==n.util.type(e[l])||r[n.util.objId(e[l])]?"Array"!==n.util.type(e[l])||r[n.util.objId(e[l])]||(r[n.util.objId(e[l])]=!0,n.languages.DFS(e[l],t,l,r)):(r[n.util.objId(e[l])]=!0,n.languages.DFS(e[l],t,null,r)))}},plugins:{},highlightAll:function(e,t){var a={callback:t,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};n.hooks.run("before-highlightall",a);for(var r,l=a.elements||document.querySelectorAll(a.selector),i=0;r=l[i++];)n.highlightElement(r,e===!0,a.callback)},highlightElement:function(t,a,r){for(var l,i,o=t;o&&!e.test(o.className);)o=o.parentNode;o&&(l=(o.className.match(e)||[,""])[1],i=n.languages[l]),t.className=t.className.replace(e,"").replace(/\s+/g," ")+" language-"+l,o=t.parentNode,/pre/i.test(o.nodeName)&&(o.className=o.className.replace(e,"").replace(/\s+/g," ")+" language-"+l);var s=t.textContent,u={element:t,language:l,grammar:i,code:s};if(!s||!i)return n.hooks.run("complete",u),void 0;if(n.hooks.run("before-highlight",u),a&&_self.Worker){var c=new Worker(n.filename);c.onmessage=function(e){u.highlightedCode=e.data,n.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r&&r.call(u.element),n.hooks.run("after-highlight",u),n.hooks.run("complete",u)},c.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else u.highlightedCode=n.highlight(u.code,u.grammar,u.language),n.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r&&r.call(t),n.hooks.run("after-highlight",u),n.hooks.run("complete",u)},highlight:function(e,t,r){var l=n.tokenize(e,t);return a.stringify(n.util.encode(l),r)},tokenize:function(e,t){var a=n.Token,r=[e],l=t.rest;if(l){for(var i in l)t[i]=l[i];delete t.rest}e:for(var i in t)if(t.hasOwnProperty(i)&&t[i]){var o=t[i];o="Array"===n.util.type(o)?o:[o];for(var s=0;s<o.length;++s){var u=o[s],c=u.inside,g=!!u.lookbehind,h=!!u.greedy,f=0,d=u.alias;u=u.pattern||u;for(var p=0;p<r.length;p++){var m=r[p];if(r.length>e.length)break e;if(!(m instanceof a)){u.lastIndex=0;var y=u.exec(m),v=1;if(!y&&h&&p!=r.length-1){var b=r[p+1].matchedStr||r[p+1],k=m+b;if(p<r.length-2&&(k+=r[p+2].matchedStr||r[p+2]),u.lastIndex=0,y=u.exec(k),!y)continue;var w=y.index+(g?y[1].length:0);if(w>=m.length)continue;var _=y.index+y[0].length,P=m.length+b.length;if(v=3,P>=_){if(r[p+1].greedy)continue;v=2,k=k.slice(0,P)}m=k}if(y){g&&(f=y[1].length);var w=y.index+f,y=y[0].slice(f),_=w+y.length,S=m.slice(0,w),O=m.slice(_),j=[p,v];S&&j.push(S);var A=new a(i,c?n.tokenize(y,c):y,d,y,h);j.push(A),O&&j.push(O),Array.prototype.splice.apply(r,j)}}}}}return r},hooks:{all:{},add:function(e,t){var a=n.hooks.all;a[e]=a[e]||[],a[e].push(t)},run:function(e,t){var a=n.hooks.all[e];if(a&&a.length)for(var r,l=0;r=a[l++];)r(t)}}},a=n.Token=function(e,t,n,a,r){this.type=e,this.content=t,this.alias=n,this.matchedStr=a||null,this.greedy=!!r};if(a.stringify=function(e,t,r){if("string"==typeof e)return e;if("Array"===n.util.type(e))return e.map(function(n){return a.stringify(n,t,e)}).join("");var l={type:e.type,content:a.stringify(e.content,t,r),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:r};if("comment"==l.type&&(l.attributes.spellcheck="true"),e.alias){var i="Array"===n.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(l.classes,i)}n.hooks.run("wrap",l);var o="";for(var s in l.attributes)o+=(o?" ":"")+s+'="'+(l.attributes[s]||"")+'"';return"<"+l.tag+' class="'+l.classes.join(" ")+'" '+o+">"+l.content+"</"+l.tag+">"},!_self.document)return _self.addEventListener?(_self.addEventListener("message",function(e){var t=JSON.parse(e.data),a=t.language,r=t.code,l=t.immediateClose;_self.postMessage(n.highlight(r,n.languages[a],a)),l&&_self.close()},!1),_self.Prism):_self.Prism;var r=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return r&&(n.filename=r.src,document.addEventListener&&!r.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",n.highlightAll)),_self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism);
</script>

<script type="text/x-mathjax-config">
(function () {

MathJax.Hub.Config({
	'showProcessingMessages': false,
	'messageStyle': 'none'
});

if (typeof MathJaxListener !== 'undefined') {
	MathJax.Hub.Register.StartupHook('End', function () {
		MathJaxListener.invokeCallbackForKey_('End');
	});
}

})();
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


</body>

</html>
